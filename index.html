<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WindGuru Forecast</title>
</head>
<body>
    <h2>WindGuru Forecast</h2>
    <div id="windguru-widget">
        <!-- WindGuru widget will load here based on location parameter -->
    </div>

    <script>
        function getURLParameter(name) {
            const params = new URLSearchParams(window.location.search);
            return params.get(name);
        }

        const locationId = getURLParameter('location') || '47828';

        (function (window, document) {
            var loader = function () {
                var arg = [
                    "s=" + locationId,
                    "m=100",
                    "uid=wg_fwdg_" + locationId + "_100_1730568598387",
                    "wj=knots",
                    "tj=c",
                    "waj=m",
                    "tij=cm",
                    "odh=6",
                    "doh=20",
                    "fhours=72",
                    "hrsm=2",
                    "vt=forecasts",
                    "lng=en",
                    "idbs=1",
                    "p=WINDSPD,GUST,SMER,TMPE,APCP1s,RATING"
                ];
                var script = document.createElement("script");
                script.src = "https://www.windguru.cz/js/widget.php?" + arg.join("&");
                document.getElementById("windguru-widget").appendChild(script);
            };
            window.addEventListener ? window.addEventListener("load", loader, false) : window.attachEvent("onload", loader);
        })(window, document);
    </script>
</body>
</html>
